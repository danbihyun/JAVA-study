# 10. 예외 처리

## 10-1. 예외 클래스

**예외**

- 사용자의 잘못된 조작 또는 개발자의 잘못된 코딩으로 인해 발생하는 프로그램 오류를 말한다.  
  예외가 발생되면 프로그램은 곧바로 종료된다는 점에서는 에러와 비슷하지만, 예외는 예외 처리(Exception Handling)를 통해 프로그램을 종료하지 않고 정상 실행 상태가 유지되도록 할 수 있다.

**예외 클래스**

- 자바에서는 예외를 클래스로 관리한다. JVM은 프로그램을 실행하는 도중에 예외가 발생하면 해당 예외 클래스로 객체를 생성한다. 그리고 나서 예외 처리 코드에서 예외 객체를 이용할 수 있도록 해준다.  
  모든 예외 클래스는 java.lang.Exception 클래스를 상속받는다.

**일반 예외**

- 컴파일러 체크 예외라고도 부른다.  
  프로그램 실행 시 예외가 발생할 가능성이 높기 때문에 자바 소스를 컴파일하는 과정에서 해당 예외 처리 코드가 있는지 검사한다.  
  만약 예외 처리 코드가 없다면 컴파일 에러가 발생한다.

**실행 예외**

- 컴파일러 넌 체크 예외라고도 부른다.  
  실행 시 예측할 수 없이 갑자기 발생하기 때문에 컴파일하는 과정에서 예외 처리 코드가 있는지 검사하지 않는다.

<br>

**+) 일반 예외 / 클래스 예외 클래스 구분**

| 구분      | 일반 예외 (Checked Exception) | 실행 예외 (Unchecked Exception)              |
| --------- | ----------------------------- | -------------------------------------------- |
| 검사 시점 | 컴파일 시점에서 검사됨        | 실행 시점에서 발생함                         |
| 처리 여부 | 반드시 예외 처리 코드 필요    | 선택적으로 예외 처리 가능                    |
| 예시      | IOException, SQLException 등  | NullPointerException, ArithmeticException 등 |

## 10-2. 예외 처리

**예외 처리**

- 프로그램에서 예외가 발생했을 경우 프로그램의 갑작스러운 종료를 막고, 정상 실행을 유지할 수 있도록 처리하는 것을 말한다.

**try-catch-finally 블록**

- 생성자 내부와 메소드 내부에서 작성되어 일반 예외와 실행 예외가 발생할 경우 예외 처리를 할 수 있도록 해준다.

**다중 catch 블록**

- catch 블록이 여러 개라 할지라도 단 하나의 catch 블록만 실행된다.  
  try 블록에서 동시다발적으로 예외가 발생하지 않고, 하나의 예외가 발생하면 즉시 실행을 멈추고 해당 catch 블록으로 이동하기 때문.

**throws 키워드**

- 메소드 선언부 끝에 작성되어 메소드에서 처리하지 않은 예외를 호출한 곳으로 떠넘기는 역할을 한다.  
  throws 키워드 뒤에는 떠넘길 예외 클래스를 쉼표로 구분해서 나열해주면 된다.
  <br><br><br>

# 11. 기본 API 클래스

## 11-1. java.lang 패키지

**Object 클래스**

- 자바의 최상위 부모 클래스. Object 클래스의 메소드는 모든 자바 객체에서 사용할 수 있다.

**System 클래스**

- System 클래스를 이용하면 운영체제의 일부 기능을 이용할 수 있다.  
  즉, 프로그램 종료, 키보드로부터 입력, 모니터로 출력, 현재 시간 읽기 등이 가능하다.  
  System 클래스의 모든 필드와 메소드는 정적 필드와 정적 메소드로 구성되어 있다.

**Class 클래스**

- 자바는 클래스와 인터페이스의 메타 데이터를 Class 클래스로 관리한다.  
  메타 데이터란 클래스의 이름, 생성자 정보, 필드 정보, 메소드 정보를 말한다.

**String 클래스**

- 문자열 리터럴은 String 객체로 자동 생성되지만, String 클래스의 다양한 생성자를 이용해서 직접 String 객체를 생성할 수도 있다.  
  String 객체는 문자열 조작을 위한 많은 메소드를 가지고 있다.

**Wrapper(포장) 클래스**

- 기본 타입의 값을 갖는 객체를 포장 객체라고 한다. 포장 객체는 외부에서 변경할 수 없다.  
  박싱: 기본 타입의 값을 포장 객체로 만드는 것  
  언박싱: 포장 객체로부터 기본 타입의 값을 얻는 것

**Math 클래스**

- 수학 계산에 사용할 수 있는 메소드를 제공하며  
  Math 클래스가 제공하는 메소드는 모두 정적 메소드이므로 Math 클래스로 바로 사용할 수 있다.

## 11-2. java.util 패키지

**Date 클래스**

- 날짜를 표현하는 클래스. 객체 간에 날짜 정보를 주고받을 때 매개 변수나 리턴 타입으로 주로 사용된다.

**Calendar 클래스**

- 달력을 표현하는 클래스. 추상 클래스이므로 new 연산자를 사용해서 인스턴스를 생성할 수 없다.  
  Calendar 클래스의 정적 메소드인 getInstance() 메소드를 이용하면 현재 운영체제에 설정되어 있는 시간대를 기준으로 한 Calendar 하위 객체를 얻을 수 있다.
  <br><br><br>

# 12. 스레드

## 12-1. 멀티 스레드

**프로세스**

- 애플리케이션을 실행하면 운영체제로부터 실행에 필요한 메모리를 할당받아 애플리케이션이 실행되는데, 이를 프로세스 라고 한다.

**멀티 스레드**

- 하나의 프로세스 내에 동시 실행을 하는 스레드들이 2개 이상인 경우를 말한다.

**메인 스레드**

- 자바의 모든 애플리케이션은 메인 스레드가 main() 메소드를 실행하면서 시작한다.  
  메인 스레드는 main() 메소드의 첫 코드부터 아래로 순차적으로 실행하고, main() 메소드의 마지막 코드를 실행하거나 return문을 만나면 실행이 종료된다.

**작업 스레드**

- 메인 작업 이외에 병렬 작업의 수만큼 생성하는 스레드를 말한다.  
  작업 스레드도 객체로 생성되기 때문에 클래스가 필요한데, Thread 클래스를 직접 객체화해서 생성할 수도 있고, Thread 클래스를 상속해서 하위 클래스를 만들어 생성할 수도 있다.

**동기화 메소드**

- 멀티 스레드 프로그램에서 단 하나의 스레드만 실행할 수 있는 코드 영역을 임계 영역 이라고 한다.  
  자바는 임계 영역을 지정하기 위해 동기화 메소드를 제공한다. 스레드가 객체 내부의 동기화 메소드를 실행하면 즉시 객체에 잠금을 걸어 다른 스레드가 동기화 메소드를 실행하지 못하도록 한다.

## 12-2. 스레드 제어

**스레드 상태**

- 스레드를 생성하고 시작하면 스레드는 다양한 상태를 가지게 되는데, 이는 자동으로 변경될 수도 있고, 코드에 의해서 변경될 수도 있다.

**일시 정지**

- 실행 중인 스레드를 일정 시간 멈추게 하고 싶다면 Thread 클래스의 정적 메소드인 sleep() 을 사용하면 된다.  
  Thread.sleep() 메소드를 호출한 스레드는 주어진 시간 동안 일시 정지 상태가 되고, 다시 실행 대기 상태로 돌아가게 된다.

**안전한 종료**

- Thread는 스레드를 즉시 종료하기 위해 stop() 메소드를 제공하고 있는데, 이 메소드는 deprecated(중요도가 떨어져 이제 사용되지 않는다는 의미) 되었다. stop() 메소드로 스레드를 갑자기 종료하게 되면 스레드가 사용 중이던 자원들이 불안전한 상태로 남겨지기 때문이다.  
  스레드를 안전하게 종료하기 위해서는 stop 플래그를 이용하거나 interrupt() 메소드를 이용하는 방법이 있다.

**데몬 스레드**

- 주 스레드의 작업을 돕는 보조적인 역할을 수행하는 스레드이다.  
  주 스레드가 종료되면 데몬 스레드는 강제적으로 자동 종료되는데, 주 스레드가 종료되면 보조 역할을 수행하던 데몬 스레드의 존재 의미가 사라지기 때문이다.
