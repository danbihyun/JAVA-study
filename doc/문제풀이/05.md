# 05. 참조 타입

## 05-1. 참조 타입과 참조 변수 (p.197 ~ 198)

### 1. 참조 타입

1-1.  
참조 타입에는 기본 타입을 제외한 배열, 열거, 클래스, 인터페이스가 있다.

1-2.  
참조 변수의 메모리 생성 위치는 스택이다.

1-3.  
참조 타입에서 ==, != 연산자는 값이 아닌 객체 번지를 비교한다.

1-4.  
참조 변수는 null값도 초기값으로 사용할 수 있기 때문에 null로 초기화된 참조 변수는 스택 영역에 생성된다.

### 2. 자바에서 메모리 사용

2-1.  
로컬 변수는 메서드가 호출될 때 만들어지는 스택 프레임에 저장되고, 블록/메서드가 끝나면 스코프를 벗어나면서 사라진다. 이 때, 로컬 변수에 담긴 참조만 스택에 있고, 그 참조가 가리키는 객체 자체는 힙에 있음.

2-2.  
상수, 메소드 코드, 생성자 코드는 메소드 영역에 생성된다.

2-3.  
의미 없는 객체는 JVM이 이것을 쓰레기로 취급하고 Garbage Collector를 실행시켜 자동으로 제거한다.

2-4.  
배열 및 객체는 힙 영역에 생성된다.

### 3. String 타입

3-1.  
String은 클래스이므로 참조 타입이다.

3-2.  
String의 문자열 비교는 ==가 아니라 equals()을 사용해야 한다.  
==는 객체(참조) 동일성 비교, equals()는 내용 비교.

3-3.  
동일한 문자열 리터럴을 저장하는 변수는 동일한 String 객체를 참조한다.

3-4.  
new String("문자열")은 무조건 새로운 String 객체를 생성한다.

### 4. 참조 변수

4-1.  
참조 변수에 저장되는 것은 객체의 번지가 아니라 객체를 가리키는 번지 값이다.

4-2.  
참조 변수에 null을 저장해서 변수를 초기화시킬 수 있다.

4-3.  
참조 변수에 null이 저장된 상태에서는 객체를 사용할 수 없다.

4-4.  
NullPointerException은 초기화되지 않은 참조 변수에서 발생하는 것이 아니라, 초기화는 되었지만 값이 null인 데이터나 메소드를 사용하는 코드를 실행하면 발생한다.

### 5. 실행 결과

```java
int var1 = 10;
int var2 = 10;
String var3 = "AB";
String var4 = "AB";
String var5 = new String("AB");
```

▼

```java
① var1 == var2 // true
② var1 != var2 // false
③ var3 == var4 // true
④ var3 != var5 // true (다른 객체)
⑤ var4.equals(var5) // true (equals는 객체와는 상관없이 내부 문자열 비교)
```
